# Webex Bot
## Prerequisites
- Bot Token
- Room ID
- Webex Bot Username

## Obtain Token / Room ID / Username

### 1. Visit https://developer.webex.com/docs/getting-started and click Log In.
![Step 1 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/6cd0dcb9-0134-48d3-8bd1-1aa1402a8dcf/dc8066a8-5abf-4613-952a-63d99f36eec9.png?crop=focalpoint&fit=crop&fp-x=0.7905&fp-y=0.0384&fp-z=3.1016&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=544&mark-y=69&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0xMTEmaD01NyZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 2. Click on My Webex Apps
![Step 2 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/2832905b-19f2-474c-9fe9-f75b45053a27/e55503d9-fbd2-4201-8fa4-399c2458cd8d.png?crop=focalpoint&fit=crop&fp-x=0.7875&fp-y=0.2122&fp-z=2.9271&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=344&mark-y=358&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz01MTImaD05OSZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 3. Click on Create a New App
![Step 3 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/3699d51f-8573-4e3a-a990-f566016d4261/e391cb1d-44da-418a-b574-fec86d6d17fe.png?crop=focalpoint&fit=crop&fp-x=0.7087&fp-y=0.1185&fp-z=2.9299&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=424&mark-y=241&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0zNTImaD04NCZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 4. Click on Botâ€¦
![Step 4 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/6bcc41f0-6431-4769-86d5-9cbea438a951/083839c6-ae06-4253-a51f-ce08efc9e03c.png?crop=focalpoint&fit=crop&fp-x=0.5003&fp-y=0.3006&fp-z=1.8933&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=344&mark-y=231&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz01MTImaD0zNTImZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 5. Type "GB Results Bot"
![Step 5 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/ffd44c5c-e724-43b9-a4c9-7ff01ae9ef64/26180aba-15dc-4a6d-a3f3-b16b07179bc2.png?crop=focalpoint&fit=crop&fp-x=0.5435&fp-y=0.2138&fp-z=1.7969&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=323&mark-y=287&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz01NTMmaD01MiZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 6. Save your bot's username/email address for later.
![Step 6 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/ac307451-8306-4c76-80d7-a2c41739afe8/66afdaed-fd2b-4800-93fd-1220d231669e.png?crop=focalpoint&fit=crop&fp-x=0.5000&fp-y=0.3367&fp-z=1.3105&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=186&mark-y=293&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz04MjcmaD0xMzImZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 7. Select any image you like.
![Step 7 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/3d2798c8-5581-4119-aebe-dc7546bee0a4/61cdb864-7171-4ae5-867a-9077ce8c7847.png?crop=focalpoint&fit=crop&fp-x=0.5087&fp-y=0.4556&fp-z=2.5875&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=509&mark-y=316&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0xODImaD0xODImZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 8. Enter your description.
![Step 8 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/3f4bada3-816c-42e9-84a4-09b0501cad8f/04f784ab-841e-4057-ae36-87be873ff6e2.png?crop=focalpoint&fit=crop&fp-x=0.5435&fp-y=0.6837&fp-z=1.7969&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=323&mark-y=256&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz01NTMmaD0zMDImZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 9. Click on Add Bot
![Step 9 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/c352d775-c78f-4adb-bb1c-b043031479ca/32783b98-4b0f-4499-b202-4e6923b4dc61.png?crop=focalpoint&fit=crop&fp-x=0.7302&fp-y=0.8895&fp-z=3.3515&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=485&mark-y=465&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0yMzAmaD05NiZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 10. Save this Bot Access Token for later.
![Step 10 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/599f47e6-b918-4a7f-8cd9-90940eb0e095/f9b559ef-4a14-4104-93d5-7e668e59da7f.png?crop=focalpoint&fit=crop&fp-x=0.5000&fp-y=0.4223&fp-z=1.3105&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=186&mark-y=331&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz04MjcmaD0xNTMmZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 11. Go to Documentation (https://developer.webex.com/docs)
![Step 11 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/6904ddb0-b7a8-4d9c-93cf-a71ee3190a25/724d106a-6b89-48c7-b204-c0b0e0269704.png?crop=focalpoint&fit=crop&fp-x=0.3424&fp-y=0.0384&fp-z=2.6437&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=476&mark-y=38&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0yNDgmaD05MCZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 12. Click on Messaging
![Step 12 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/38c74a34-c8f5-45a9-aff5-add28971e223/6ad49e72-8290-4ad6-a8bd-2c293f636f0c.png?crop=focalpoint&fit=crop&fp-x=0.1821&fp-y=0.4315&fp-z=2.3410&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=333&mark-y=386&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0zNTcmaD00MyZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 13. Click on Reference
![Step 13 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/72c1ee93-31a9-40fa-aaca-6cfbd77f5399/fc90c9f9-1a2f-401d-8e5c-311a381385c7.png?crop=focalpoint&fit=crop&fp-x=0.1853&fp-y=0.4251&fp-z=2.3773&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=357&mark-y=386&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0zNDQmaD00MyZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 14. Click on Rooms
![Step 14 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/a752e62a-2f88-4c4f-a13f-1b1322866926/f9bd3b06-2651-4f5a-9b5a-0555111b93f6.png?crop=focalpoint&fit=crop&fp-x=0.1886&fp-y=0.6573&fp-z=2.4147&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=381&mark-y=385&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0zMzEmaD00NCZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 15. Click on https://webexapis.com/v1/rooms
![Step 15 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/6dd3355d-ccde-42ef-93b2-591bac4283f1/a0c3c307-56f2-448e-be14-35aa4fbfe3bd.png?crop=focalpoint&fit=crop&fp-x=0.4141&fp-y=0.3979&fp-z=2.3529&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=424&mark-y=389&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0zNTMmaD0zNyZmaXQ9Y3JvcCZjb3JuZXItcmFkaXVzPTEw)


### 16. Make sure you're using your personal token and click on Run
![Step 16 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/ec786c35-6e73-46a5-aebe-3b74d0c2beb5/0eedd275-5ce5-4cea-85da-4aa64c46bb2c.png?crop=focalpoint&fit=crop&fp-x=0.8587&fp-y=0.8231&fp-z=4.0000&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=496&mark-y=350&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0yMDkmaD0xMTUmZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)


### 17. Get the ID of the room you would like to send your messages to.
![Step 17 screenshot](https://images.tango.us/workflows/b22c4b45-0e6d-43d3-9aab-9acb3e1f3333/steps/f1b744d1-9f2b-4c9b-9491-e698795e091d/ae994caf-23da-4710-a6df-ac5323e062ed.png?crop=focalpoint&fit=crop&fp-x=0.8372&fp-y=0.6845&fp-z=3.0924&w=1200&border=2%2CF4F2F7&border-radius=8%2C8%2C8%2C8&border-radius-inner=8%2C8%2C8%2C8&blend-align=bottom&blend-mode=normal&blend-x=0&blend-w=1200&blend64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL21hZGUtd2l0aC10YW5nby13YXRlcm1hcmstdjIucG5n&mark-x=4&mark-y=383&m64=aHR0cHM6Ly9pbWFnZXMudGFuZ28udXMvc3RhdGljL2JsYW5rLnBuZz9tYXNrPWNvcm5lcnMmYm9yZGVyPTQlMkNGRjc0NDImdz0xMTkyJmg9NDgmZml0PWNyb3AmY29ybmVyLXJhZGl1cz0xMA%3D%3D)

## Adding your Bot to a Webex Space
Add your Webex Bot's username/email from Step 6.
![Add Bot](/tutorial/add-bot-to-space.png)

## Adding Room ID and Bot Token
- Take your token (Step 10) and room ID (Step 17) and add it to your config json file located at the root of the project.

# Environment Setup

## Update Python to latest version (IMPORTANT)

Update your Python version to the latest version [here](https://www.python.org/downloads/)

## Clone the repository to your local machine

	git clone https://cto-github.cisco.com/mnguyen4/webex_bot.git

## Change directory in the project folder

	cd webex_bot

## Install pip (if you have not installed)

	python3 -m pip install --upgrade pip

## Install virtualenv

	pip3 install virtualenv
	virtualenv env
	or
	python3 -m venv env

### Activate virtual environment (MacOS)

	. env/bin/activate

### Activate virtual environment (Windows)

	. env/Scripts/Activate

## Install dependencies

	pip install -r requirements.txt

## Import the Webex Bot

	from webex_bot import WebexBot

## Usage
```python
from webex_bot import WebexBot

config_location = "config.json" # Make path absolute when deploying on a server
config = {}

if os.path.isfile(config_location):
	with open(config_location) as user_file:
		config =  json.load(user_file)
		token = config['token']
		room_id = config['room_id']
else:
	print("Please include config json file in the root of the directory.")
	sys.exit(0)

data = {
	"chip_id": "",
	"station_id": "",
	"log_folder": "",
	"test_results": {"tests" : [{"RESULT" : "PASS"}]},
	"log_location" : "",
	"log_name" : 'some_log.log',
	"tester_name" : "Operator's Name"
}

wb = WebexBot(token, room_id)
wb.send_message(data)
```